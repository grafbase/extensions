//!file:shared_subgraphs.proto
syntax = "proto3";

import "grafbase/options.proto";

package example;

// Two services mapping to "accounts" subgraph
service UserService {
  option (grafbase.graphql.subgraph_name) = "accounts";

  rpc GetUser(GetUserRequest) returns (User);
}

service AuthService {
  option (grafbase.graphql.subgraph_name) = "accounts";

  rpc Login(LoginRequest) returns (LoginResponse);
}

// One service mapping to "products" subgraph
service ProductService {
  option (grafbase.graphql.subgraph_name) = "products";

  rpc GetProduct(GetProductRequest) returns (Product);
}

// Request/Response messages
message GetUserRequest {
  string id = 1;
}

message User {
  string id = 1;
  string name = 2;
}

message LoginRequest {
  string username = 1;
  string password = 2;
}

message LoginResponse {
  string token = 1;
  User user = 2;
}

message GetProductRequest {
  string id = 1;
}

message Product {
  string id = 1;
  string name = 2;
  double price = 3;
}
